System.register(["jimu-core","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime","jimu-ui","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(e,t){var a={},i={},l={},n={},o={},s={},r={};return{setters:[function(e){a.Immutable=e.Immutable,a.React=e.React,a.ReactRedux=e.ReactRedux,a.classNames=e.classNames,a.css=e.css,a.jsx=e.jsx,a.polished=e.polished},function(e){i.getAppConfigAction=e.getAppConfigAction},function(e){l.DirectionSelector=e.DirectionSelector,l.SettingRow=e.SettingRow,l.SettingSection=e.SettingSection},function(e){n.defaultMessages=e.defaultMessages,n.searchUtils=e.searchUtils},function(e){o.Icon=e.Icon,o.Label=e.Label,o.MultiSelect=e.MultiSelect,o.Radio=e.Radio,o.Select=e.Select,o.Switch=e.Switch,o.Tab=e.Tab,o.Tabs=e.Tabs,o.Tooltip=e.Tooltip,o.UnitTypes=e.UnitTypes,o.defaultMessages=e.defaultMessages,o.hooks=e.hooks},function(e){s.FontStyle=e.FontStyle,s.InputUnit=e.InputUnit},function(e){r.ThemeColorPicker=e.ThemeColorPicker}],execute:function(){e((()=>{var e={88866:e=>{e.exports='<svg viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 5.5a1 1 0 100-2 1 1 0 000 2zM6.5 7.5A.5.5 0 017 7h1.5v4.5h1a.5.5 0 010 1h-3a.5.5 0 010-1h1V8H7a.5.5 0 01-.5-.5z" fill="#000"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8 16A8 8 0 118 0a8 8 0 010 16zm0-1A7 7 0 108 1a7 7 0 000 14z" fill="#000"></path></svg>'},1810:e=>{"use strict";e.exports=a},3297:e=>{"use strict";e.exports=i},29169:e=>{"use strict";e.exports=n},21835:e=>{"use strict";e.exports=o},23080:e=>{"use strict";e.exports=l},89820:e=>{"use strict";e.exports=s},43817:e=>{"use strict";e.exports=r}},t={};function c(a){var i=t[a];if(void 0!==i)return i.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,c),l.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var a in t)c.o(t,a)&&!c.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="";var d={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(d),c.d(d,{default:()=>I});var e,t=c(1810),a=c(3297),i=c(23080),l=c(29169);!function(e){e.Stack="STACK",e.SideBySide="SIDEBYSIDE"}(e||(e={}));var n=c(21835);const o={_widgetLabel:"Widget Controller",behavior:"Behavior",openWidget:"How many widgets can be opened",displayType:"Display type",iconStyle:"Icon",showIconLabel:"Label",iconSizeOverride:"Size",iconInterval:"Spacing",textFormatOverride:"Text",iconBackgroundOverride:"Icon",openStart:"Open widgets when the page is loaded",widgetsSelected:"{widgetNumber} widgets selected",appearanceTip:"Select the widgets inside the Widget Controller, and customize their icons, labels, or styles to change their appearances."};var s;!function(e){e[e.Circle=0]="Circle",e[e.Rectangle=1]="Rectangle"}(s||(s={}));const r=({className:e,title:a,type:i,active:l,theme:n,onClick:o})=>{const r=(e=>{const a=null==e?void 0:e.colors.white,i=null==e?void 0:e.colors.palette.primary[700],l=null==e?void 0:e.colors.palette.dark[900];return t.React.useMemo((()=>t.css`
    background-color: ${a};
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    width: ${t.polished.rem(28)};
    height: ${t.polished.rem(28)};
    margin: 2px;
    &.active{
      outline: 2px ${i} solid;
    }
    .inner {
      width: 66%;
      height: 66%;
      border: 1px ${l} solid;
      border-radius: 2px;
      &.circle {
        border-radius: 50%;
      }
    }
  `),[a,i,l])})(n),c=(0,t.classNames)("choose-shape",{active:l},e);return(0,t.jsx)("div",{css:r,onClick:o,onKeyDown:e=>{"Enter"===e.key&&(null==o||o())},title:a,tabIndex:0,className:c},(0,t.jsx)("div",{className:(0,t.classNames)("inner",{rectangle:i===s.Rectangle},{circle:i===s.Circle})}))};var p=c(89820),u=c(43817);const v=({variant:e,appTheme:a,onSettingConfigChange:l,themeBoxDataItems:o,getI18nMessage:s})=>{var r;return(0,t.jsx)(i.SettingRow,{className:"sw-controller__advanced-setting",flow:"wrap"},(0,t.jsx)(n.Tabs,{type:"pills",className:"flex-grow-1 w-100 h-100",fill:!0,defaultValue:null===(r=o[0])||void 0===r?void 0:r.themeKey},o.map(((o,r)=>{const c=null==e?void 0:e[o.themeKey],d=e=>(0,t.jsx)(u.ThemeColorPicker,{specificTheme:a,value:null==c?void 0:c[e],onChange:t=>l(["appearance","card","variant",o.themeKey,e],t)});return(0,t.jsx)(n.Tab,{key:r,id:o.themeKey,className:"tab-title-item",title:o.title},(0,t.jsx)(i.SettingRow,{className:"mt-3",label:s("textFormatOverride"),flow:"no-wrap"},(0,t.jsx)("div",{className:"font-setting-row"},(0,t.jsx)(p.FontStyle,{bold:null==c?void 0:c.bold,italic:null==c?void 0:c.italic,underline:null==c?void 0:c.underline,strike:null==c?void 0:c.strike,onChange:(e,t)=>l(["appearance","card","variant",o.themeKey,e],t)}),d("color"))),(0,t.jsx)(i.SettingRow,{className:"mt-2",label:s("iconBackgroundOverride"),flow:"no-wrap"},d("bg")))}))))};var g=c(88866),m=c.n(g);const h=e=>{const a=(()=>{const e=t.ReactRedux.useSelector((e=>e.theme)),a=null==e?void 0:e.colors.palette.dark[600],i=null==e?void 0:e.colors.black;return t.css`
    .jimu-icon {
      color: ${a};
      &:hover {
        color: ${i};
      }
    }
  `})(),{className:i,tooltip:l="",icon:o=m()}=e;return(0,t.jsx)(n.Tooltip,{title:l},(0,t.jsx)("div",{tabIndex:0,css:a,className:(0,t.classNames)("icon-tooltip d-flex align-items-center",i)},(0,t.jsx)(n.Icon,{icon:o})))},x=e=>{const{className:a,label:i,tooltip:l="",icon:n}=e;return(0,t.jsx)("div",{className:(0,t.classNames)("label-tooltip d-flex align-items-center",a)},(0,t.jsx)("div",{className:"mr-2 text-truncate",title:i},i),(0,t.jsx)(h,{icon:n,tooltip:l}))},{useSelector:w}=t.ReactRedux,y="#080808",b="none",S=t.css`
    font-size: 13px;
    font-weight: lighter;
    .setting-row-item {
      width: 100%;
      display: flex;
      margin-top: 0.5rem;
      > span.jimu-radio {
        flex-shrink: 0;
        margin-top: 0.1rem;
      }
      > label {
        margin-bottom: 0;
      }
    }
    .font-setting-row {
      display: flex;
      align-items: center;
    }
    .jimu-multi-select {
      width: 100%;
      > .jimu-dropdown {
        width: 100%;
      }
      > .jimu-menu-item {
        width: 100%;
        height: ${t.polished.rem(26)};
      }
    }
  `,f=(e,t)=>{var a,i,l,n,o;const s=(null===(i=null===(a=null==t?void 0:t.appearance)||void 0===a?void 0:a.card.avatar)||void 0===i?void 0:i.type)||"primary";let r=null===(o=null===(n=null===(l=null==e?void 0:e.components)||void 0===l?void 0:l.button)||void 0===n?void 0:n.variants)||void 0===o?void 0:o[s];return r=r.setIn(["default","color"],y),r=r.setIn(["active","color"],y),r},j=({getI18nMessage:e})=>[{themeKey:"default",title:e("regular")},{themeKey:"active",title:e("selected")},{themeKey:"hover",title:e("hover")}],I=c=>{var d,u,g,m,h,y,I,C,k,R,N,T,M,O,z,B,L;const{id:A,config:K,theme:U,onSettingChange:D}=c,P=null===(d=null==K?void 0:K.behavior)||void 0===d?void 0:d.onlyOpenOne,$=null===(u=null==K?void 0:K.behavior)||void 0===u?void 0:u.displayType,_=null===(g=null==K?void 0:K.behavior)||void 0===g?void 0:g.vertical,F=null===(m=null==K?void 0:K.behavior)||void 0===m?void 0:m.openStarts,W=null===(h=null==K?void 0:K.appearance)||void 0===h?void 0:h.space,E=null===(y=null==K?void 0:K.appearance)||void 0===y?void 0:y.advanced,G=null===(I=null==K?void 0:K.appearance.card)||void 0===I?void 0:I.showLabel,H=null===(k=null===(C=null==K?void 0:K.appearance.card)||void 0===C?void 0:C.showTooltip)||void 0===k||k,V=null!==(N=null===(R=null==K?void 0:K.appearance.card)||void 0===R?void 0:R.labelGrowth)&&void 0!==N?N:0,X=null===(M=null===(T=null==K?void 0:K.appearance.card)||void 0===T?void 0:T.avatar)||void 0===M?void 0:M.size,Y=null===(z=null===(O=null==K?void 0:K.appearance.card)||void 0===O?void 0:O.avatar)||void 0===z?void 0:z.shape,q=null!==(B=null==F?void 0:F[0])&&void 0!==B?B:b,J=_?W:V,Q=w((e=>e.appStateInBuilder.theme)),Z=((e,a)=>{const i=(e=>{var t,a,i;let l=(null!==(i=null===(a=null===(t=null==e?void 0:e.order)||void 0===t?void 0:t.asMutable)||void 0===a?void 0:a.call(t))&&void 0!==i?i:[]).map((t=>{var a;return null===(a=e.content)||void 0===a?void 0:a[t]}));return l=l.filter((e=>e&&e.id&&e.widgetId&&!e.isPending)),l.map((e=>e.id)).map((t=>{var a,i;return null===(i=null===(a=e.content)||void 0===a?void 0:a[t])||void 0===i?void 0:i.widgetId}))})(t.ReactRedux.useSelector((t=>{var a,i,n,o;const s=null===(n=null===(i=null===(a=(t=t.appStateInBuilder).appConfig.widgets)||void 0===a?void 0:a[e])||void 0===i?void 0:i.layouts)||void 0===n?void 0:n.controller,r=t.browserSizeMode,c=t.appConfig.mainSizeMode,d=l.searchUtils.findLayoutId(s,r,c);return null===(o=t.appConfig.layouts)||void 0===o?void 0:o[d]}))),n=w((e=>e.appStateInBuilder.appConfig.widgets));return(0,t.Immutable)(i||[]).map((e=>{var t;return{label:null===(t=n[e])||void 0===t?void 0:t.label,value:e}}))})(A),ee=n.hooks.useTranslate(n.defaultMessages,l.defaultMessages,o),te=E?null===(L=null==K?void 0:K.appearance)||void 0===L?void 0:L.card.variant:f(Q,K),ae=(e,t)=>{let a=null;a=Array.isArray(e)?K.setIn(e,t):K.set(e,t),D({id:A,config:a})},ie=(a,i,l)=>{if(!a.currentTarget.checked)return;let n=null;"onlyOpenOne"===i?n=K.setIn(["behavior","openStarts"],(0,t.Immutable)([])).setIn(["behavior",i],l):"displayType"===i&&(l=l?e.Stack:e.SideBySide,n=K.setIn(["behavior",i],l)),D({id:A,config:n})};return(0,t.jsx)("div",{className:"widget-setting-controller jimu-widget-setting",css:S},(0,t.jsx)(i.SettingSection,null,(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:ee("direction")},(0,t.jsx)(i.DirectionSelector,{vertical:_,onChange:e=>{const t=K.setIn(["behavior","vertical"],e).setIn(["appearance","card","labelGrowth"],0).setIn(["appearance","space"],0);D({id:A,config:t}),(0,a.getAppConfigAction)().exchangeWidthAndHeight().exec()}}))),(0,t.jsx)(i.SettingSection,{title:ee("behavior")},(0,t.jsx)(i.SettingRow,{flow:"wrap",label:ee("openWidget")},(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"only-open-one",style:{cursor:"pointer"},name:"only-open-one",onChange:e=>ie(e,"onlyOpenOne",!0),checked:P}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"only-open-one",className:"ml-2"},ee("single"))),(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"open-multiple",style:{cursor:"pointer"},name:"only-open-one",onChange:e=>ie(e,"onlyOpenOne",!1),checked:!P}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"open-multiple",className:"ml-2"},ee("multiple")))),(0,t.jsx)(i.SettingRow,{flow:"wrap",label:ee("openStart")},!P&&(0,t.jsx)(n.MultiSelect,{size:"sm",values:F,items:Z,onClickItem:(e,t,a)=>{const i=P?a.length?[t]:[]:a;ae(["behavior","openStarts"],i)},displayByValues:e=>{if(P&&e.length){const t=Z.find((t=>t.value===e[0]));return null==t?void 0:t.label}{const t=(null==e?void 0:e.length)||0;return ee("widgetsSelected",{widgetNumber:t})}}}),P&&(0,t.jsx)(n.Select,{value:q,size:"sm",onChange:e=>{const t=e.target.value;let a=[];t!==b&&(a=[t]),ae(["behavior","openStarts"],a)},className:"w-100"},(0,t.jsx)("option",{value:b},ee("none")),null==Z?void 0:Z.map((e=>(0,t.jsx)("option",{key:e.value,value:e.value},e.label))))),!P&&(0,t.jsx)(i.SettingRow,{flow:"wrap",label:ee("displayType")},(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"display-stack",style:{cursor:"pointer"},name:"display-type",onChange:e=>ie(e,"displayType",!0),checked:$===e.Stack}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"display-stack",className:"ml-2"},ee("stack"))),(0,t.jsx)("div",{className:"setting-row-item"},(0,t.jsx)(n.Radio,{id:"display-side-by-side",style:{cursor:"pointer"},name:"display-type",onChange:e=>ie(e,"displayType",!1),checked:$===e.SideBySide}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"display-side-by-side",className:"ml-2"},ee("sideBySide"))))),(0,t.jsx)(i.SettingSection,{title:(0,t.jsx)(x,{label:ee("appearance"),tooltip:ee("appearanceTip")})},(0,t.jsx)(i.SettingRow,{flow:"wrap",label:ee("iconStyle")},(0,t.jsx)(r,{type:s.Circle,title:ee("circle",!0),className:"mr-2",active:"circle"===Y,theme:U,onClick:()=>ae(["appearance","card","avatar","shape"],"circle")}),(0,t.jsx)(r,{type:s.Rectangle,title:ee("rectangle"),active:"rectangle"===Y,theme:U,onClick:()=>ae(["appearance","card","avatar","shape"],"rectangle")})),(0,t.jsx)(i.SettingRow,{label:ee("showIconLabel")},(0,t.jsx)(n.Switch,{checked:G,onChange:e=>ae(["appearance","card","showLabel"],e.target.checked)})),(0,t.jsx)(i.SettingRow,{label:ee("tooltip")},(0,t.jsx)(n.Switch,{checked:H,onChange:e=>ae(["appearance","card","showTooltip"],e.target.checked)})),(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:ee("iconSizeOverride")},(0,t.jsx)(n.Select,{size:"sm",value:X,onChange:e=>ae(["appearance","card","avatar","size"],e.target.value),className:"w-50"},(0,t.jsx)("option",{value:"sm"},ee("small")),(0,t.jsx)("option",{value:"default"},ee("medium")),(0,t.jsx)("option",{value:"lg"},ee("large")))),(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:ee("iconInterval")},(0,t.jsx)(p.InputUnit,{className:"w-50",min:0,max:999,value:{distance:J,unit:n.UnitTypes.PIXEL},onChange:({distance:e})=>(e=>{e=+e,isNaN(e)&&(e=0);let t=K;t=t.behavior.vertical?t.setIn(["appearance","space"],e).setIn(["appearance","card","labelGrowth"],0):t.setIn(["appearance","card","labelGrowth"],e).setIn(["appearance","space"],0),D({id:A,config:t})})(e)}))),(0,t.jsx)(i.SettingSection,null,(0,t.jsx)(i.SettingRow,{flow:"no-wrap",label:ee("advance")},(0,t.jsx)(n.Switch,{checked:E,onChange:()=>{var e;const t=!(null===(e=null==K?void 0:K.appearance)||void 0===e?void 0:e.advanced);let a=K.setIn(["appearance","advanced"],t);if(t){const e=f(Q,K);a=a.setIn(["appearance","card","variant"],e)}else a=a.setIn(["appearance","card","variant"],void 0);D({id:A,config:a})}})),E&&(0,t.jsx)(v,{themeBoxDataItems:j({getI18nMessage:ee}),variant:te,appTheme:Q,onSettingConfigChange:ae,getI18nMessage:ee})))}})(),d})())}}}));